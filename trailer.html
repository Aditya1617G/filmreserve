<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>FilmReserve | Trailer</title>
  <link rel="stylesheet" href="style.css">
  <style>
    body {
      margin: 0;
      background: radial-gradient(#111, #000);
      color: #fff;
      font-family: Arial, sans-serif;
    }

    header {
      background: #111;
      padding: 10px;
      text-align: center;
      font-size: 24px;
      font-weight: bold;
    }

    .player-container {
      max-width: 720px;
      margin: 40px auto 0;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 0 25px #00bcd4;
      background-color: #111;
      position: relative;
    }

    video {
      width: 100%;
      border-radius: 8px;
      background: black;
    }

    .controls {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-top: 8px;
      position: relative;
    }

    .progress {
      flex-grow: 1;
      margin: 0 10px;
    }

    input[type="range"] {
      width: 100%;
      appearance: none;
      height: 6px;
      background: #555;
      border-radius: 4px;
      outline: none;
    }

    input[type="range"]::-webkit-slider-thumb {
      appearance: none;
      width: 12px;
      height: 12px;
      background: #03a9f4;
      border-radius: 50%;
      cursor: pointer;
    }

    .mute-btn {
      position: relative;
      cursor: pointer;
      font-size: 18px;
    }

    .mute-btn.muted::after {
      content: 'ðŸ”‡';
      color: red;
      position: absolute;
      left: 0;
    }

    .volume-slider {
      display: none;
      position: absolute;
      bottom: 30px;
      left: 0;
      width: 5px;
      height: 80px;
      background: #333;
      border-radius: 4px;
    }

    .volume-slider input {
      transform: rotate(-90deg);
      width: 80px;
      position: absolute;
      left: -37.5px;
      top: 35px;
    }

    .mute-wrapper:hover .volume-slider,
    .volume-slider.active {
      display: block;
    }

    .title-bar {
      text-align: center;
      font-size: 20px;
      margin-top: 20px;
    }

    .menu-wrapper {
      position: relative;
    }

    .menu-btn {
      cursor: pointer;
      font-size: 18px;
    }

    .menu {
      display: none;
      position: absolute;
      right: 0;
      bottom: 30px;
      background: #222;
      border: 1px solid #444;
      border-radius: 6px;
      padding: 6px 10px;
    }

    .menu.active {
      display: block;
    }

    .menu label {
      display: block;
      padding: 4px 0;
      cursor: pointer;
    }

    .zoom-btn {
      font-size: 20px;
      cursor: pointer;
    }

    footer {
      text-align: center;
      font-size: 14px;
      margin-top: 60px;
      color: #888;
    }
  </style>
</head>
<body>

<header>ðŸŽ¬ FilmReserve</header>

<div class="player-container">
  <video id="video" controls></video>
  <div class="controls">
    <div class="mute-wrapper">
      <div class="mute-btn" id="mute">ðŸ”Š</div>
      <div class="volume-slider" id="volumeSliderWrapper">
        <input type="range" id="volume" min="0" max="1" step="0.05" value="1">
      </div>
    </div>
    <div class="time" id="time">0:00 / 0:00</div>
    <input type="range" id="seek" class="progress" value="0">
    <div class="zoom-btn" id="zoomBtn">â›¶</div>
    <div class="menu-wrapper">
      <div class="menu-btn" id="threeDots">â‹®</div>
      <div class="menu" id="menu">
        <strong>Playback Speed</strong>
        <label><input type="radio" name="speed" value="0.5"> 0.5x</label>
        <label><input type="radio" name="speed" value="1" checked> 1x</label>
        <label><input type="radio" name="speed" value="1.25"> 1.25x</label>
        <label><input type="radio" name="speed" value="1.5"> 1.5x</label>
        <label><input type="radio" name="speed" value="1.75"> 1.75x</label>
        <label><input type="radio" name="speed" value="2"> 2x</label>
      </div>
    </div>
  </div>
</div>

<div class="title-bar" id="title"></div>

<footer>FilmReserve | Streaming entertainment anytime, anywhere.</footer>

<script>
  const video = document.getElementById("video");
  const muteBtn = document.getElementById("mute");
  const volumeSlider = document.getElementById("volume");
  const seek = document.getElementById("seek");
  const time = document.getElementById("time");
  const zoomBtn = document.getElementById("zoomBtn");
  const titleEl = document.getElementById("title");
  const menu = document.getElementById("menu");
  const threeDots = document.getElementById("threeDots");

  const trailers = {
    fantastic4: {
      src: "https://filmreserve-trailers.github.io/fantastic4.webm",
      title: "Fantastic 4: First Steps"
    },
    avengers5: {
      src: "https://filmreserve-trailers.github.io/avengers5.mp4",
      title: "Avengers: Doomsday"
    },
    superman: {
      src: "https://filmreserve-trailers.github.io/superman.mp4",
      title: "Superman"
    },
    jurassicworld: {
      src: "https://filmreserve-trailers.github.io/jurassicworld.webm",
      title: "Jurassic World: Rebirth"
    },
    f1movie: {
      src: "https://filmreserve-trailers.github.io/f1movie.mp4",
      title: "F1: The Movie"
    },
    "28yearslater": {
      src: "https://filmreserve-trailers.github.io/28yearslater.webm",
      title: "28 Years Later"
    }
  };

  const params = new URLSearchParams(location.search);
  const movie = params.get("movie");
  if (trailers[movie]) {
    video.src = trailers[movie].src;
    titleEl.textContent = trailers[movie].title;
  }

  // Time update
  video.addEventListener("timeupdate", () => {
    seek.value = video.currentTime / video.duration * 100 || 0;
    time.textContent = `${formatTime(video.currentTime)} / ${formatTime(video.duration)}`;
  });

  function formatTime(t) {
    if (isNaN(t)) return "0:00";
    const minutes = Math.floor(t / 60);
    const seconds = Math.floor(t % 60).toString().padStart(2, "0");
    return `${minutes}:${seconds}`;
  }

  // Seek
  seek.addEventListener("input", () => {
    video.currentTime = seek.value / 100 * video.duration;
  });

  // Mute
  muteBtn.addEventListener("click", () => {
    video.muted = !video.muted;
    muteBtn.classList.toggle("muted", video.muted);
  });

  volumeSlider.addEventListener("input", () => {
    video.volume = volumeSlider.value;
    video.muted = volumeSlider.value == 0;
    muteBtn.classList.toggle("muted", video.muted);
  });

  // Volume closes on outside click
  document.addEventListener("click", e => {
    if (!e.target.closest(".mute-wrapper")) {
      document.getElementById("volumeSliderWrapper").classList.remove("active");
    }
    if (!e.target.closest(".menu-wrapper")) {
      menu.classList.remove("active");
    }
  });

  muteBtn.addEventListener("mouseenter", () => {
    document.getElementById("volumeSliderWrapper").classList.add("active");
  });

  // Fullscreen
  zoomBtn.onclick = () => {
    if (!document.fullscreenElement) video.requestFullscreen();
    else document.exitFullscreen();
  };

  // Playback speed menu
  threeDots.onclick = () => {
    menu.classList.toggle("active");
  };

  document.querySelectorAll("input[name='speed']").forEach(input => {
    input.addEventListener("change", () => {
      video.playbackRate = parseFloat(input.value);
      menu.classList.remove("active");
    });
  });

  // Shortcuts
  document.addEventListener("keydown", e => {
    if (e.code === "Space") {
      video.paused ? video.play() : video.pause();
      e.preventDefault();
    } else if (e.key === "f") {
      zoomBtn.click();
    } else if (e.key === "m") {
      muteBtn.click();
    }
  });
</script>

</body>
</html>
