<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>FilmReserve | Trailer</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: linear-gradient(to bottom, #0d0d0d, #1a1a1a);
      color: white;
      overflow-x: hidden;
    }

    .navbar {
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 12px;
      background-color: #111;
      font-size: 1.2rem;
      font-weight: bold;
      border-bottom: 2px solid #000;
    }

    .navbar a {
      color: white;
      text-decoration: none;
    }

    .navbar a:hover {
      text-decoration: underline;
    }

    .player-container {
      max-width: 960px;
      margin: 60px auto 20px;
      padding: 20px;
      background-color: #111;
      border-radius: 12px;
      box-shadow: 0 0 25px #00f0ff70;
      position: relative;
    }

    video {
      width: 100%;
      border-radius: 8px;
      outline: none;
      background: black;
    }

    .controls {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-top: 10px;
      position: relative;
    }

    .progress {
      flex: 1;
      appearance: none;
      height: 6px;
      background: #444;
      border-radius: 5px;
      outline: none;
      cursor: pointer;
    }

    .progress::-webkit-slider-thumb {
      appearance: none;
      height: 14px;
      width: 14px;
      background: #00f0ff;
      border-radius: 50%;
      cursor: pointer;
    }

    .icon-btn {
      background: none;
      border: none;
      color: white;
      font-size: 1.1rem;
      cursor: pointer;
      position: relative;
    }

    .volume-slider {
      display: none;
      position: absolute;
      bottom: 30px;
      left: 0;
      height: 60px;
      writing-mode: bt-lr;
      transform: rotate(-90deg);
    }

    .icon-btn:hover .volume-slider {
      display: block;
    }

    .dropdown {
      position: relative;
    }

    .dropdown-menu {
      display: none;
      position: absolute;
      bottom: 40px;
      right: 0;
      background-color: #222;
      padding: 10px;
      border-radius: 6px;
      box-shadow: 0 0 10px #000;
    }

    .dropdown-menu button {
      display: block;
      background: none;
      border: none;
      color: white;
      text-align: left;
      padding: 4px 10px;
      cursor: pointer;
    }

    .dropdown-menu button:hover {
      background: #333;
    }

    .dropdown:hover .dropdown-menu {
      display: block;
    }

    .video-info {
      text-align: center;
      margin: 20px 0;
    }

    .video-info h2 {
      margin: 5px 0;
    }

    .buttons {
      text-align: center;
      margin-bottom: 15px;
    }

    .buttons button {
      margin: 0 10px;
      padding: 6px 12px;
      font-size: 1rem;
      background: #333;
      border: none;
      border-radius: 5px;
      color: white;
      cursor: pointer;
    }

    .buttons button:hover {
      background: #555;
    }

    footer {
      text-align: center;
      padding: 10px;
      font-size: 0.9rem;
      color: #999;
      background-color: #0d0d0d;
      border-top: 1px solid #222;
    }
  </style>
</head>
<body>

  <header class="navbar">
    <a href="index.html">ðŸŽ¬ FilmReserve</a>
  </header>

  <div class="player-container">
    <video id="trailer" controls disablepictureinpicture></video>

    <div class="controls">
      <button id="muteBtn" class="icon-btn">ðŸ”Š</button>
      <span id="time">0:00 / 0:00</span>
      <input type="range" id="seek" class="progress" value="0" />

      <div class="icon-btn">
        <input type="range" id="volumeSlider" class="volume-slider" min="0" max="1" step="0.1" value="1" />
      </div>

      <button id="pipBtn" class="icon-btn">ðŸ“º</button>
      <button id="fsBtn" class="icon-btn">â›¶</button>

      <div class="dropdown">
        <button class="icon-btn">â‹®</button>
        <div class="dropdown-menu" id="menu">
          <strong>Playback Speed</strong>
          <button data-speed="0.5">0.5x</button>
          <button data-speed="1">1x</button>
          <button data-speed="1.25">1.25x</button>
          <button data-speed="1.5">1.5x</button>
          <button data-speed="1.75">1.75x</button>
          <button data-speed="2">2x</button>
        </div>
      </div>
    </div>
  </div>

  <div class="video-info">
    <div class="buttons">
      <button onclick="history.back()">â¬… Back</button>
      <button onclick="alert('Description coming soon!')">â–¶ Description</button>
    </div>
    <h2 id="movieTitle">Movie Title</h2>
  </div>

  <footer>
    FilmReserve | Streaming entertainment anytime, anywhere.
  </footer>

  <script>
    const video = document.getElementById('trailer');
    const seek = document.getElementById('seek');
    const muteBtn = document.getElementById('muteBtn');
    const volumeSlider = document.getElementById('volumeSlider');
    const timeDisplay = document.getElementById('time');
    const pipBtn = document.getElementById('pipBtn');
    const fsBtn = document.getElementById('fsBtn');

    const params = new URLSearchParams(window.location.search);
    const movie = params.get('movie');

    const movieMap = {
      'fantastic4': { title: 'Fantastic 4: First Steps', file: 'trailers/fantastic4.mp4' },
      'avengers5': { title: 'Avengers: Doomsday', file: 'trailers/avengers5.mp4' },
      'superman': { title: 'Superman', file: 'trailers/superman.mp4' },
      'f1movie': { title: 'F1: The Movie', file: 'trailers/F1.mp4' },
      '28yearslater': { title: '28 Years Later', file: 'trailers/28yearslater.mp4' },
      'jurassicworld': { title: 'Jurassic World: Rebirth', file: 'trailers/jurassicworld.mp4' }
    };

    if (movieMap[movie]) {
      video.src = movieMap[movie].file;
      document.getElementById('movieTitle').textContent = movieMap[movie].title;
    }

    video.addEventListener('loadedmetadata', () => {
      seek.max = video.duration;
    });

    video.addEventListener('timeupdate', () => {
      seek.value = video.currentTime;
      const format = t => {
        const m = Math.floor(t / 60);
        const s = Math.floor(t % 60).toString().padStart(2, '0');
        return `${m}:${s}`;
      };
      timeDisplay.textContent = `${format(video.currentTime)} / ${format(video.duration)}`;
    });

    seek.addEventListener('input', () => {
      video.currentTime = seek.value;
    });

    muteBtn.addEventListener('click', () => {
      video.muted = !video.muted;
      muteBtn.textContent = video.muted ? 'ðŸ”‡' : 'ðŸ”Š';
    });

    volumeSlider.addEventListener('input', () => {
      video.volume = volumeSlider.value;
      video.muted = video.volume === 0;
      muteBtn.textContent = video.muted ? 'ðŸ”‡' : 'ðŸ”Š';
    });

    document.addEventListener('click', e => {
      if (!e.target.closest('.dropdown')) {
        document.querySelector('.dropdown-menu').style.display = 'none';
      }
    });

    document.querySelector('.dropdown > button').addEventListener('click', e => {
      const menu = document.getElementById('menu');
      menu.style.display = menu.style.display === 'block' ? 'none' : 'block';
    });

    document.querySelectorAll('.dropdown-menu button[data-speed]').forEach(btn => {
      btn.addEventListener('click', () => {
        video.playbackRate = parseFloat(btn.dataset.speed);
        document.getElementById('menu').style.display = 'none';
      });
    });

    pipBtn.addEventListener('click', async () => {
      if (document.pictureInPictureEnabled && !video.disablePictureInPicture) {
        await video.requestPictureInPicture();
      }
    });

    fsBtn.addEventListener('click', () => {
      if (document.fullscreenElement) {
        document.exitFullscreen();
      } else {
        video.parentElement.requestFullscreen();
      }
    });

    document.addEventListener('keydown', e => {
      if (e.key === ' ') {
        e.preventDefault();
        video.paused ? video.play() : video.pause();
      } else if (e.key === 'm' || e.key === 'M') {
        video.muted = !video.muted;
        muteBtn.textContent = video.muted ? 'ðŸ”‡' : 'ðŸ”Š';
      } else if (e.key === 'f' || e.key === 'F') {
        fsBtn.click();
      }
    });
  </script>
</body>
</html>
