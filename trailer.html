<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>FilmReserve | Trailer</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    body {
      background: #0d0d0d;
      color: #fff;
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
    }

    .navbar {
      background-color: #111;
      display: flex;
      align-items: center;
      padding: 10px 20px;
      font-size: 1.3em;
      font-weight: bold;
    }

    .navbar .logo {
      color: white;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .video-container {
      margin: 40px auto 20px;
      width: 70%;
      max-width: 800px;
      box-shadow: 0 0 20px cyan;
      border-radius: 8px;
      background-color: #000;
      position: relative;
      padding: 10px;
    }

    video {
      width: 100%;
      border-radius: 6px;
      outline: none;
    }

    .controls {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-top: 8px;
    }

    .title-section {
      text-align: center;
      margin-top: 15px;
    }

    .title-section h2 {
      font-size: 1.4em;
      display: inline-block;
      margin: 0;
    }

    .desc-toggle {
      background: none;
      border: none;
      color: white;
      font-size: 18px;
      margin-left: 10px;
      cursor: pointer;
    }

    .description {
      display: none;
      margin-top: 10px;
      color: #ccc;
      text-align: center;
      padding: 0 10px;
    }

    .footer {
      text-align: center;
      padding: 10px 0;
      background-color: #111;
      position: fixed;
      width: 100%;
      bottom: 0;
      font-size: 0.9em;
      color: #aaa;
    }

    .control-bar {
      display: flex;
      align-items: center;
      gap: 12px;
      padding-top: 5px;
      justify-content: center;
      flex-wrap: wrap;
    }

    .control-bar button {
      background: none;
      border: none;
      color: white;
      font-size: 18px;
      cursor: pointer;
    }

    .control-bar .menu {
      position: relative;
    }

    .menu-options {
      display: none;
      position: absolute;
      right: 0;
      background: #222;
      padding: 8px;
      border-radius: 5px;
    }

    .menu-options button {
      display: block;
      width: 100%;
      text-align: left;
      padding: 5px 10px;
      color: white;
    }

    .volume-slider {
      display: none;
      position: absolute;
      left: 0;
      bottom: 35px;
      width: 80px;
      transform: rotate(-90deg);
      transform-origin: left;
    }

    .show { display: block; }

    .fullscreen video,
    .fullscreen .video-container {
      width: 100%;
      height: 100%;
      max-width: none;
      margin: 0;
      border-radius: 0;
    }
  </style>
</head>
<body>

  <header class="navbar">
    <div class="logo">üé¨ <b>FilmReserve</b></div>
  </header>

  <div class="video-container" id="videoBox">
    <video id="trailer" controls></video>

    <div class="control-bar">
      <button id="playPause">‚èØÔ∏è</button>
      <div class="menu">
        <button id="volumeBtn">üîä</button>
        <input type="range" id="volumeSlider" class="volume-slider" min="0" max="1" step="0.05">
      </div>
      <span id="timer">0:00 / 0:00</span>
      <input type="range" id="seekBar" value="0">
      <button id="zoomBtn">üñºÔ∏è</button>

      <div class="menu">
        <button id="menuToggle">‚ãÆ</button>
        <div class="menu-options" id="menuOptions">
          <button id="pipBtn">Picture-in-Picture</button>
        </div>
      </div>
    </div>
  </div>

  <div class="title-section">
    <h2 id="movieTitle"></h2>
    <button class="desc-toggle" id="toggleDesc">‚ñº</button>
    <div class="description" id="movieDesc"></div>
  </div>

  <footer class="footer">FilmReserve | Streaming entertainment anytime, anywhere.</footer>

  <script>
    const video = document.getElementById('trailer');
    const playPauseBtn = document.getElementById('playPause');
    const seekBar = document.getElementById('seekBar');
    const timer = document.getElementById('timer');
    const volumeBtn = document.getElementById('volumeBtn');
    const volumeSlider = document.getElementById('volumeSlider');
    const menuToggle = document.getElementById('menuToggle');
    const menuOptions = document.getElementById('menuOptions');
    const pipBtn = document.getElementById('pipBtn');
    const zoomBtn = document.getElementById('zoomBtn');
    const movieTitle = document.getElementById('movieTitle');
    const movieDesc = document.getElementById('movieDesc');
    const toggleDesc = document.getElementById('toggleDesc');

    const movies = {
      fantastic4: {
        title: "Fantastic 4: First Steps",
        src: "trailers/fantastic4.mp4",
        desc: "The journey of four gifted individuals learning to harness their powers together."
      },
      superman: {
        title: "Superman",
        src: "trailers/superman.mp4",
        desc: "A new beginning for the Man of Steel in a modern world."
      },
      avengers5: {
        title: "Avengers: Doomsday",
        src: "trailers/avengers5.mp4",
        desc: "The next generation of Avengers face their greatest threat yet."
      },
      jurassicworld: {
        title: "Jurassic World: Rebirth",
        src: "trailers/jurassicworld.mp4",
        desc: "Dinosaurs return‚Äîbigger, smarter, and more dangerous."
      },
      f1movie: {
        title: "F1: The Movie",
        src: "trailers/F1.mp4",
        desc: "A high-speed story of ambition, speed, and the spirit of Formula 1."
      },
      "28yearslater": {
        title: "28 Years Later",
        src: "trailers/28yearslater.mp4",
        desc: "Two decades after the outbreak, survival has new meaning."
      }
    };

    const urlParams = new URLSearchParams(window.location.search);
    const movieKey = urlParams.get('movie');
    const movie = movies[movieKey];

    if (movie) {
      video.src = movie.src;
      movieTitle.textContent = movie.title;
      movieDesc.textContent = movie.desc;
    }

    playPauseBtn.onclick = () => video.paused ? video.play() : video.pause();
    video.ontimeupdate = () => {
      seekBar.value = video.currentTime / video.duration * 100 || 0;
      timer.textContent = `${formatTime(video.currentTime)} / ${formatTime(video.duration)}`;
    };
    seekBar.oninput = () => video.currentTime = video.duration * (seekBar.value / 100);

    function formatTime(time) {
      const m = Math.floor(time / 60);
      const s = Math.floor(time % 60).toString().padStart(2, '0');
      return `${m}:${s}`;
    }

    volumeBtn.onclick = () => {
      video.muted = !video.muted;
      volumeBtn.textContent = video.muted ? "üîá" : "üîä";
    };

    volumeBtn.onmouseover = () => volumeSlider.classList.add('show');
    document.onclick = e => {
      if (!e.target.closest('.menu')) volumeSlider.classList.remove('show');
      if (!e.target.closest('.menu-options') && !e.target.closest('#menuToggle')) menuOptions.style.display = 'none';
    };

    volumeSlider.oninput = e => {
      video.volume = e.target.value;
      video.muted = false;
      volumeBtn.textContent = "üîä";
    };

    menuToggle.onclick = () => {
      menuOptions.style.display = menuOptions.style.display === 'block' ? 'none' : 'block';
    };

    pipBtn.onclick = async () => {
      if (document.pictureInPictureElement) {
        await document.exitPictureInPicture();
      } else {
        await video.requestPictureInPicture();
      }
    };

    zoomBtn.onclick = () => video.requestFullscreen();

    toggleDesc.onclick = () => {
      const showing = movieDesc.style.display === 'block';
      movieDesc.style.display = showing ? 'none' : 'block';
      toggleDesc.textContent = showing ? '‚ñº' : '‚ñ≤';
    };

    // keyboard shortcuts
    document.addEventListener('keydown', e => {
      if (e.key === ' ') {
        e.preventDefault();
        video.paused ? video.play() : video.pause();
      } else if (e.key === 'f') {
        video.requestFullscreen();
      } else if (e.key === 'm') {
        video.muted = !video.muted;
        volumeBtn.textContent = video.muted ? "üîá" : "üîä";
      } else if (e.key === 'ArrowRight') {
        video.currentTime += 5;
      } else if (e.key === 'ArrowLeft') {
        video.currentTime -= 5;
      }
    });
  </script>
</body>
</html>
